<nav class="col-sm-3" id="toc" style="overflow:scroll; max-height: 50%;">
        <ul class="nav nav-pills nav-stacked" data-spy="affix" id="toc-list" style="overflow:scroll; max-height: 50%;">
        </ul>
</nav>

<div class="post-container">
{% for post in site.posts %}
  <div class="row">
        <div class="column column-100">
            <div class="preview-panel">
                <div id="{{ post.chapter }}-{{ post.page }}" class="pagemarker"></div>
                <a href="{{ post.url | prepend: site.baseurl }}#panel">
                    <img src="resources/chapters/{{ post.imgurl | prepend: site.baseurl }}" width="100%" height="100%">
                </a>
           </div>
        </div>
    </div>
{% endfor %}
{% cycle 'end row' : '', '</div>', '</div>' %}
</div>



<style>
/* #toc{
    background:lightgray;
    width:5%;
    height:50%;
    position:fixed;
    top:50px;
    left:0;
    overflow: scroll;
} */
</style>

<script>
    var markers = document.getElementsByClassName("pagemarker");
    for(var i = 0; i < markers.length; i++)
    {
        var li = document.createElement('li');
        var a = document.createElement('a');
        var linkText = document.createTextNode(markers[i].id);
        a.appendChild(linkText);
        a.title = markers[i].id;
        a.href = "#"+markers[i].id;
        li.appendChild(a);
        document.getElementById("toc-list").appendChild(li);
    }
</script>

